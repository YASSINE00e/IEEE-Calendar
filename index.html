<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IEEE FSM SB Calender</title>
    <link rel="icon" type="image/png" href="icon.png" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial,
          sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        height: 100vh;
        display: flex;
        flex-direction: column;
        padding: 15px;
      }

      .header {
        text-align: center;
        color: white;
        margin-bottom: 15px;
      }

      .header img {
        max-width: 200px;
        width: 80%;
        height: auto;
      }

      .calendar-container {
        background: white;
        border-radius: 15px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        flex: 1;
        display: flex;
        flex-direction: column;
        overflow: hidden;
        max-width: 1400px;
        margin: 0 auto;
        width: 100%;
      }

      .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 30px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .calendar-header button {
        background: rgba(255, 255, 255, 0.2);
        border: 2px solid white;
        color: white;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-size: 0.95rem;
        font-weight: 600;
        transition: all 0.3s ease;
      }

      .calendar-header button:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }

      .current-month {
        font-size: 1.6rem;
        font-weight: 700;
      }

      .calendar-body {
        flex: 1;
        padding: 20px;
        overflow-y: auto;
      }

      .weekdays {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 8px;
        margin-bottom: 8px;
      }

      .weekday {
        text-align: center;
        font-weight: 700;
        color: #667eea;
        padding: 10px;
        font-size: 1rem;
      }

      .days {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 8px;
      }

      .day {
        aspect-ratio: 1;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        min-height: 60px;
      }

      .day:hover {
        border-color: #667eea;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
      }

      .day.other-month {
        opacity: 0.3;
      }

      .day.today {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        font-weight: 700;
      }

      .day.today .activity-name {
        color: white;
      }

      .day-number {
        font-size: 1.1rem;
        margin-bottom: 4px;
        font-weight: 600;
      }

      .activity-names {
        display: flex;
        flex-direction: column;
        gap: 2px;
        width: 100%;
        align-items: center;
      }

      .activity-name {
        font-size: 0.7rem;
        font-weight: 600;
        color: #667eea;
        text-align: center;
        line-height: 1.2;
        word-break: break-word;
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        justify-content: center;
        align-items: center;
        z-index: 1000;
      }

      .modal.active {
        display: flex;
      }

      .modal-content {
        background: white;
        border-radius: 20px;
        padding: 30px;
        max-width: 500px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .modal-header {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 20px;
        color: #667eea;
      }

      .modal-activity {
        margin-bottom: 15px;
        padding: 15px;
        border-left: 4px solid;
        background: #f8f9fa;
        border-radius: 8px;
      }

      .modal-activity-name {
        font-weight: 700;
        font-size: 1.1rem;
        margin-bottom: 5px;
      }

      .modal-activity-time {
        color: #666;
        font-size: 0.9rem;
      }

      .modal-close {
        background: #667eea;
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 10px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 600;
        margin-top: 20px;
        width: 100%;
        transition: all 0.3s ease;
      }

      .modal-close:hover {
        background: #764ba2;
        transform: translateY(-2px);
      }
    </style>
  </head>
  <body>
    <div class="header">
      <img src="logo.png" alt="Faculty of Sciences of Monastir - IEEE Student Branch" />
    </div>

    <div class="calendar-container">
      <div class="calendar-header">
        <button id="prevMonth">← Previous</button>
        <div class="current-month" id="currentMonth"></div>
        <button id="nextMonth">Next →</button>
      </div>

      <div class="calendar-body">
        <div class="weekdays">
          <div class="weekday">Sun</div>
          <div class="weekday">Mon</div>
          <div class="weekday">Tue</div>
          <div class="weekday">Wed</div>
          <div class="weekday">Thu</div>
          <div class="weekday">Fri</div>
          <div class="weekday">Sat</div>
        </div>
        <div class="days" id="daysContainer"></div>
      </div>
    </div>

    <div class="modal" id="activityModal">
      <div class="modal-content">
        <div class="modal-header" id="modalDate"></div>
        <div id="modalActivities"></div>
        <button class="modal-close" onclick="closeModal()">Close</button>
      </div>
    </div>

    <script>
      const activities = [
        {
          date: "2026-02-17",
          name: "General Assembly (AMPHI 4)",
          type: "AG",
          color: "#3498db",
          time: "05:00 PM",
        },
        {
          date: "2026-02-20",
          name: "Project Session (AMPHI 3)",
          type: "PS",
          color: "#2ecc71",
          time: "4:00 PM",
        },
        {
          date: "2026-02-21",
          name: "Cyber Security (Session 1)",
          type: "workshop",
          color: "#e74c3c",
          time: "2:00 PM",
        },
        {
          date: "2026-02-22",
          name: "Cyber Security (Session 2)",
          type: "workshop",
          color: "#e74c3c",
          time: "10:00 AM",
        },

        // {
        //   date: "2026-03-05",
        //   name: "Community Event",
        //   type: "event",
        //   color: "#f39c12",
        //   time: "6:00 PM",
        // },
        // {
        //   date: "2026-03-12",
        //   name: "Team Meeting",
        //   type: "meeting",
        //   color: "#3498db",
        //   time: "10:00 AM",
        // },
        // {
        //   date: "2026-03-15",
        //   name: "Social Gathering",
        //   type: "social",
        //   color: "#9b59b6",
        //   time: "7:00 PM",
        // },
        // {
        //   date: "2026-03-20",
        //   name: "Workshop",
        //   type: "workshop",
        //   color: "#e74c3c",
        //   time: "2:00 PM",
        // },
        // {
        //   date: "2026-03-25",
        //   name: "Training Session",
        //   type: "training",
        //   color: "#2ecc71",
        //   time: "9:00 AM",
        // },
      ];

      let currentDate = new Date();
      const activitiesByDate = {};

      activities.forEach((activity) => {
        if (!activitiesByDate[activity.date]) {
          activitiesByDate[activity.date] = [];
        }
        activitiesByDate[activity.date].push(activity);
      });

      function renderCalendar() {
        const year = currentDate.getFullYear();
        const month = currentDate.getMonth();

        const monthNames = [
          "January",
          "February",
          "March",
          "April",
          "May",
          "June",
          "July",
          "August",
          "September",
          "October",
          "November",
          "December",
        ];
        document.getElementById("currentMonth").textContent = `${monthNames[month]} ${year}`;

        const firstDay = new Date(year, month, 1).getDay();
        const daysInMonth = new Date(year, month + 1, 0).getDate();
        const daysInPrevMonth = new Date(year, month, 0).getDate();

        const daysContainer = document.getElementById("daysContainer");
        daysContainer.innerHTML = "";

        const today = new Date();
        const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;
        const todayDate = today.getDate();

        for (let i = firstDay - 1; i >= 0; i--) {
          const day = createDayElement(daysInPrevMonth - i, true);
          daysContainer.appendChild(day);
        }

        for (let i = 1; i <= daysInMonth; i++) {
          const dateStr = `${year}-${String(month + 1).padStart(2, "0")}-${String(i).padStart(
            2,
            "0"
          )}`;
          const day = createDayElement(i, false, dateStr, isCurrentMonth && i === todayDate);
          daysContainer.appendChild(day);
        }

        const totalCells = daysContainer.children.length;
        const remainingCells = 42 - totalCells;
        for (let i = 1; i <= remainingCells; i++) {
          const day = createDayElement(i, true);
          daysContainer.appendChild(day);
        }
      }

      function createDayElement(dayNumber, isOtherMonth, dateStr = null, isToday = false) {
        const day = document.createElement("div");
        day.className = "day";
        if (isOtherMonth) day.classList.add("other-month");
        if (isToday) day.classList.add("today");

        const dayNumberDiv = document.createElement("div");
        dayNumberDiv.className = "day-number";
        dayNumberDiv.textContent = dayNumber;
        day.appendChild(dayNumberDiv);

        if (dateStr && activitiesByDate[dateStr]) {
          const namesContainer = document.createElement("div");
          namesContainer.className = "activity-names";

          activitiesByDate[dateStr].forEach((activity) => {
            const nameDiv = document.createElement("div");
            nameDiv.className = "activity-name";
            nameDiv.textContent = activity.type; // Show type instead of full name
            namesContainer.appendChild(nameDiv);
          });

          day.appendChild(namesContainer);
          day.addEventListener("click", () => showActivities(dateStr));
        }

        return day;
      }

      function showActivities(dateStr) {
        const modal = document.getElementById("activityModal");
        const modalDate = document.getElementById("modalDate");
        const modalActivities = document.getElementById("modalActivities");

        const date = new Date(dateStr + "T12:00:00");
        const options = { weekday: "long", year: "numeric", month: "long", day: "numeric" };
        modalDate.textContent = date.toLocaleDateString("en-US", options);

        modalActivities.innerHTML = "";
        activitiesByDate[dateStr].forEach((activity) => {
          const activityDiv = document.createElement("div");
          activityDiv.className = "modal-activity";
          activityDiv.style.borderLeftColor = activity.color;
          activityDiv.innerHTML = `
                    <div class="modal-activity-name">${activity.name}</div>
                    <div class="modal-activity-time">${activity.time}</div>
                `;
          modalActivities.appendChild(activityDiv);
        });

        modal.classList.add("active");
      }

      function closeModal() {
        document.getElementById("activityModal").classList.remove("active");
      }

      document.getElementById("prevMonth").addEventListener("click", () => {
        currentDate.setMonth(currentDate.getMonth() - 1);
        renderCalendar();
      });

      document.getElementById("nextMonth").addEventListener("click", () => {
        currentDate.setMonth(currentDate.getMonth() + 1);
        renderCalendar();
      });

      document.getElementById("activityModal").addEventListener("click", (e) => {
        if (e.target.id === "activityModal") {
          closeModal();
        }
      });

      renderCalendar();
    </script>
  </body>
</html>
